---
id: massa-web3-main
title: Introduction
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# Leveraging Javascript API for Massa interaction

## What is Massa-Web3?

Massa-web3 is an exhaustive library enabling interaction with the Massa blockchain. It can be used in a browser environment and Node.js runtime.

:::note
Massa-web3 operates by utilizing JsonRPC API in the background to facilitate blockchain communication. The API is divided into a Private and a Public segment, used for node management and blockchain interactions, respectively. For more information on the API, please refer to the [JsonRPC API documentation](/docs/build/api/jsonrpc).
:::

Massa-web3 will allow you to interact with the Massa blockchain in a variety of ways:

- Send transactions
- Deploy smart contracts
- Create, manage and inspect addresses
- Manage your node
- Fetch events from the blockchain
- And much more!

In addition, the library includes a [collection of handy utility functions](/docs/build/massa-web3/massa-web3-utils) (e.g conversion between different units, etc).

### Massa-Web3 Next

:::important
The next version of `massa-web3` is coming soon! You can check out the development and contribute to the project by visiting the [next branch](https://github.com/massalabs/massa-web3/tree/next). Of course it will come with a lot of new features and improvements and a better documentation.
:::

## How to use

### Requirements

- NodeJS 18+
- npm / yarn (see package.json)

### As a library (Node.js/React/Vue.js)

Just install the library using npm:

```shell
npm install @massalabs/massa-web3
```

### In a browser

:::note
For maintenance reasons, we stopped providing a standalone version of the library.
If you want to use the library in a vanilla javascript project, you will need to use a bundler like [Vite](https://vitejs.dev/)..
If the community requests it, we will consider providing a standalone version in the future.
:::

#### Using Vite with `npx`

1. **Create a Vite Project:**

   Use `npx` to create a new Vite project:

   ```shell
   npx create-vite@latest my-massa-project --template vanilla
   cd my-massa-project
   ```

2. **Install Massa-Web3:**

   Install the Massa-Web3 libraries:

   ```shell
   npm install @massalabs/massa-web3
   npm install @massalabs/wallet-provider
   ```

3. **Import Massa-Web3:**

   Import the libraries in your `index.html` file and make sure to have a wallet installed (here we use massa station as an example):

   ```html
   <script type="module">
     import * as massa from "@massalabs/massa-web3";
     import * as walletPro from "@massalabs/wallet-provider";

     async function main() {
       try {
         let providerList = await walletPro.providers();
         console.log("Providers:", providerList);

         const provider = providerList.find(
           (provider) => provider.name() === "MASSASTATION"
         );

         let accounts = await provider.accounts();

         if (accounts.length === 0) {
           console.log("No accounts found");
           return;
         }

         console.log("Accounts:", accounts);

         const account = accounts[0];

         if (!account || !provider) {
           return;
         }

         const client = await massa.ClientFactory.fromWalletProvider(
           provider,
           account
         );

         console.log("Client:", client);
       } catch (e) {
         console.log(e);
       }
     }

     main();
   </script>
   ```

#### Running the Vite Project

Run the Vite project:

```shell
npm run dev
```

## Initialization

Some usage of massa-web3 require an account. This account can be either provided using [Wallet-provider](/docs/build/wallet/wallet-provider) generated from a secret key.

### With Wallet-provider

The Wallet-provider allows you to easily connect your dApp to a compatible wallet extension or application. The following code snippet demonstrates how to initialize a client instance using the Wallet-provider in a React application:

<Tabs>
<TabItem value="wallet-provider-react" label="React" default>

Full code can be found [here](https://github.com/massalabs/massa-sc-examples/blob/main/age/front/react/src/App.tsx)

```typescript
useEffect(() => {
  const registerAndSetProvider = async () => {
    try {
      const providerList = await providers(true, 10000);
      if (providerList.length === 0) {
        throw new Error("No providers found");
      }

      const provider = providerList[0];
      const accounts = await provider.accounts();
      if (accounts.length === 0) {
        throw new Error("No accounts found");
      }

      const account = accounts[0];
      setAccount(account);

      const newClient = await ClientFactory.fromWalletProvider(
        provider,
        account
      );
      setClient(newClient);
    } catch (error) {
      console.error(error);
    }
  };

  registerAndSetProvider();
}, []);
```

</TabItem>
</Tabs>

### Without Wallet-provider

You can easily initialize a client instance using the ClientFactory class:

<Tabs>
<TabItem value="mainnet-client" label="Mainnet" default>

```typescript
const privateKey = "...";
const baseAccount: IAccount = await WalletClient.getAccountFromSecretKey(
  privateKey
);

const chainId = CHAIN_ID.MainNet;

const testnetClient: Client = await ClientFactory.createDefaultClient(
  DefaultProviderUrls.MAINNET,
  chainId,
  true, // retry failed requests
  baseAccount // optional parameter
);
```

</TabItem>

<TabItem value="buildnet-client" label="Buildnet" default>

```typescript
const privateKey = "...";
const baseAccount: IAccount = await WalletClient.getAccountFromSecretKey(
  privateKey
);
const chainId = CHAIN_ID.BuildNet;

const testnetClient: Client = await ClientFactory.createDefaultClient(
  DefaultProviderUrls.BUILDNET,
  chainId,
  true, // retry failed requests
  baseAccount // optional parameter
);
```

</TabItem>

<TabItem value="labnet-client" label="Labnet" default>

```typescript
const privateKey = "...";
const baseAccount: IAccount = await WalletClient.getAccountFromSecretKey(
  privateKey
);
const chainId = CHAIN_ID.LabNet;

const testnetClient: Client = await ClientFactory.createDefaultClient(
  DefaultProviderUrls.LABNET,
  chainId,
  true, // retry failed requests
  baseAccount // optional parameter
);
```

</TabItem>

<TabItem value="local-client" label="Localnet" default>

```typescript
const privateKey = "...";
const baseAccount: IAccount = await WalletClient.getAccountFromSecretKey(
  privateKey
);

// You must set the `chainId` to match the network your client intends to interact with.
const chainId = CHAIN_ID.MainNet;

const testnetClient: Client = await ClientFactory.createDefaultClient(
  DefaultProviderUrls.LOCALNET,
  chainId,
  true, // retry failed requests
  baseAccount // optional parameter
);
```

</TabItem>

<TabItem value="custom-client" label="Custom Client">
You can also create a custom client connecting to a node whose ip and ports are to be specified by the user.

```typescript
const baseAccount: IAccount = await WalletClient.getAccountFromSecretKey(
  privateKey
);

// You must set the `chainId` to match the network your client intends to interact with.
const chainId = CHAIN_ID.MainNet;

// initialize a custom client using an own provider
const providers: Array<IProvider> = [
  {
    url: "http://127.0.0.1:33035",
    type: ProviderType.PUBLIC,
  } as IProvider,
  {
    url: "http://127.0.0.1:33034",
    type: ProviderType.PRIVATE,
  } as IProvider,
];

const customClient: Client = await ClientFactory.createCustomClient(
  providers,
  chainId,
  true, // retry failed requests
  baseAccount // optional parameter
);
```

</TabItem>
</Tabs>

:::info
When initializing the client, you have the option to specify a `baseAccount`. If provided, this account
will be used as the default executor for upcoming calls. If you choose to initialize
the client without a `baseAccount`, it becomes mandatory to specify the executor for each call that requires a signature.
You can learn more about how to manage the base account in the [Wallet Operations](https://web3.docs.massa.net/classes/WalletClient.html) section.
:::

### Client exposed APIs

Once there is an initialized client instance, it is straightforward to call methods on it:

```ts
const balance = await web3Client.wallet().getAccountBalance("address");
```

You can find details for each of the exposed APIs with all the available methods in the following sections:

- [Wallet Operations](https://web3.docs.massa.net/classes/WalletClient.html)
- [Smart Contracts Operations](https://web3.docs.massa.net/classes/SmartContractsClient.html)
- [Public API](https://web3.docs.massa.net/classes/PublicApiClient.html)
- [Private API](https://web3.docs.massa.net/classes/PrivateApiClient.html)
