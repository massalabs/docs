---
id: massa-web3-public-api
title: Public API
---

# Public API

Client public API operations are accessible under the public sub-client, which is accessible via the publicApi() method on the client.
`PublicApiClient` documentation can be found [here](https://web3.docs.massa.net/classes/PublicApiClient.html).

Here is the list of available operations:

### get Addresses

Retrieves data about a list of addresses such as their balances and block creation details by returning [IAddressInfo](https://web3.docs.massa.net/interfaces/IAddressInfo.html) objects.

```ts
const addressesResp: Array<IAddressInfo> = await web3Client
  .publicApi()
  .getAddresses(["address"]);
```

Defined in [src/web3/PublicApiClient.ts:137](https://github.com/massalabs/massa-web3/blob/41f5634/src/web3/PublicApiClient.ts#L137)

### get Blockclique details

Retrieves [blockclique](https://web3.docs.massa.net/interfaces/IBlockcliqueBlockBySlot.html) details for a given [slot](https://web3.docs.massa.net/interfaces/ISlot.html) (period and thread).

```ts
const blockcliqueBlockBySlot: IBlockcliqueBlockBySlot = await web3Client
  .publicApi()
  .getBlockcliqueBlockBySlot([{ period: 12345, thread: 20 } as ISlot]);
```

Defined in [src/web3/PublicApiClient.ts:85](https://github.com/massalabs/massa-web3/blob/41f5634/src/web3/PublicApiClient.ts#L85)

### get Block details

Retrieves [block info](https://web3.docs.massa.net/interfaces/IBlockInfo.html) details (such as `content`, `finality`) for a given block ID. The block ID is passed in an array of one element.

```ts
const blocks: Array<IBlockInfo> = await web3Client
  .publicApi()
  .getBlocks(["nKifcnGbd9zu8nu1hb94XEmMGwgoWbjj3DutzrobeHDdUtEuM"]);
```

Defined in [src/web3/PublicApiClient.ts:161](https://github.com/massalabs/massa-web3/blob/41f5634/src/web3/PublicApiClient.ts#L161)

### get Cliques

Get actual [cliques](https://web3.docs.massa.net/interfaces/IClique.html)

```ts
const cliques: Array<IClique> = await web3Client.publicApi().getCliques();
```

Defined in [src/web3/PublicApiClient.ts:229](https://github.com/massalabs/massa-web3/blob/41f5634/src/web3/PublicApiClient.ts#L229)

### getDatastoreEntries

Retrieves the [data entries](https://web3.docs.massa.net/interfaces/IDatastoreEntry.html) at both the latest final and active executed slots.

```ts
const scStorageValue: IDatastoreEntry[] = await web3Client
  .publicApi()
  .getDatastoreEntries([
    {
      address: "AS12PWTzCKkkE9P5Supt3Fkb4QVZ3cdfB281TGaup7Nv1DY12a6F1",
      key: strToBytes("key"),
    } as IDatastoreEntryInput,
  ]);
```

Returned values could be easily converted into string if needed using e.g.: `bytesToStr(scStorageValue[0].final_value)`

Defined in [src/web3/PublicApiClient.ts:271](https://github.com/massalabs/massa-web3/blob/41f5634/src/web3/PublicApiClient.ts#L271)

### getEndorsements

Show info about a list of [endorsements](https://web3.docs.massa.net/interfaces/IEndorsement.html) given a list of endorsement IDs.

```ts
const endorsements: Array<IEndorsement> = await web3Client
  .publicApi()
  .getEndorsements(["q2XVw4HrRfwtX8FGXak2VwtTNkBvYtLVW67s8pTCVPdEEeG6J"]);
```

Defined in [src/web3/PublicApiClient.ts:137](https://github.com/massalabs/massa-web3/blob/41f5634/src/web3/PublicApiClient.ts#L183)

### getGraphInterval

Get the [graph interval](https://web3.docs.massa.net/interfaces/IGraphInterval.html) by passing the interval values in ms as an [IGetGraphInterval](https://web3.docs.massa.net/interfaces/IGraphInterval.html)

```ts
const graphInterval: IGraphInterval = await web3Client
  .publicApi()
  .getGraphInterval([
    { start: Date.now() - 2000, end: Date.now() } as IGetGraphInterval,
  ]);
```

Defined in [src/web3/PublicApiClient.ts:61](https://github.com/massalabs/massa-web3/blob/41f5634/src/web3/PublicApiClient.ts#L61)

### getNodeStatus

Retrieves the [node's status](https://web3.docs.massa.net/interfaces/INodeStatus.html)

```ts
const nodeStatus: INodeStatus = await web3Client.publicApi().getNodeStatus();
```

Defined in [src/web3/PublicApiClient.ts:115](https://github.com/massalabs/massa-web3/blob/41f5634/src/web3/PublicApiClient.ts#L115)

### getOperations

Retrieves [operations data](https://web3.docs.massa.net/interfaces/IOperationData.html) about a list of operations by passing a list of operation IDs.

```ts
const operations: Array<IOperationData> = await web3Client
  .publicApi()
  .getOperations(["z1cNsWAdgvoASq5RnN6MRbqqo634RRJbgwV9n3jNx3rQrQKTt"]);
```

Defined in [src/web3/PublicApiClient.ts:207](https://github.com/massalabs/massa-web3/blob/41f5634/src/web3/PublicApiClient.ts#L207)

### getStakers

Retrieves [stakers informations](https://web3.docs.massa.net/interfaces/IStakingAddresses.html) representing the list of active stakers and their roll counts for the current cycle.

```ts
const stakers: Array<IStakingAddresses> = await web3Client
  .publicApi()
  .getStakers();
```

Defined in [src/web3/PublicApiClient.ts:249](https://github.com/massalabs/massa-web3/blob/41f5634/src/web3/PublicApiClient.ts#L249)

### setProviders

Set new providers as [IProvider](https://web3.docs.massa.net/interfaces/IProvider.html).

```ts
const providers: [
          {
            url: 'https://oldRpcUrlPublic/api',
            type: ProviderType.PUBLIC,
          } as IProvider,
          {
            url: 'https://oldRpcUrlPrivate/api',
            type: ProviderType.PRIVATE,
          } as IProvider,
        ];

web3Client.setProviders(providers);
```

Defined in [src/web3/BaseClient.ts:99](https://github.com/massalabs/massa-web3/blob/41f5634/src/web3/BaseClient.ts#L99)
