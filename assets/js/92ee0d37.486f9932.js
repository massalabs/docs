"use strict";(self.webpackChunkdocu_dev=self.webpackChunkdocu_dev||[]).push([[5529],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>b});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=u(n),m=r,b=d["".concat(s,".").concat(m)]||d[m]||c[m]||l;return n?a.createElement(b,i(i({ref:t},p),{},{components:n})):a.createElement(b,i({ref:t},p))}));function b(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[d]="string"==typeof e?e:r,i[1]=o;for(var u=2;u<l;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},8665:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>l,metadata:()=>o,toc:()=>u});var a=n(7462),r=(n(7294),n(3905));const l={title:"Continuous Integration with GitHub Actions"},i=void 0,o={unversionedId:"deweb/ci/ci",id:"deweb/ci/ci",title:"Continuous Integration with GitHub Actions",description:"This section describes how to set up continuous integration (CI) for deploying websites to Massa's DeWeb using GitHub Actions.",source:"@site/docs/deweb/ci/ci.mdx",sourceDirName:"deweb/ci",slug:"/deweb/ci/",permalink:"/docs/deweb/ci/",draft:!1,editUrl:"https://github.com/massalabs/docs/tree/main/docs/deweb/ci/ci.mdx",tags:[],version:"current",lastUpdatedBy:"Peterjah",lastUpdatedAt:1758873374,formattedLastUpdatedAt:"Sep 26, 2025",frontMatter:{title:"Continuous Integration with GitHub Actions"},sidebar:"massaDeWebSidebar",previous:{title:"Guaranteed Website Self-Containment",permalink:"/docs/deweb/immutability/guaranteed-website-self-containment"}},s={},u=[{value:"Features",id:"features",level:3},{value:"Usage Example",id:"usage-example",level:2},{value:"Inputs",id:"inputs",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Outputs",id:"outputs",level:2},{value:"Configuration File Example",id:"configuration-file-example",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Additional Resources",id:"additional-resources",level:2}],p={toc:u},d="wrapper";function c(e){let{components:t,...n}=e;return(0,r.kt)(d,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"This section describes how to set up continuous integration (CI) for deploying websites to Massa's DeWeb using GitHub Actions."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Overview")),(0,r.kt)("p",null,"The Massa DeWeb GitHub Action automates the deployment of sites to decentralized storage via the Massa DeWeb CLI. By integrating this action into your repository's workflow, you can ensure that every code change is automatically deployed to DeWeb, streamlining your development and release process."),(0,r.kt)("h3",{id:"features"},"Features"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Deploy websites to Massa's DeWeb."),(0,r.kt)("li",{parentName:"ul"},"Supports custom configuration files and RPC endpoints."),(0,r.kt)("li",{parentName:"ul"},"Automatically installs the required CLI tools for deployment."),(0,r.kt)("li",{parentName:"ul"},"Outputs the address of the deployed or updated website.")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"usage-example"},"Usage Example"),(0,r.kt)("p",null,"Below is a sample workflow configuration to deploy your website on every push on ",(0,r.kt)("inlineCode",{parentName:"p"},"main")," branch to the repository:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'name: Deploy to Massa DeWeb\n\non:\n  push:\n    branches:\n      - main\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v3\n\n      - name: Deploy to Massa DeWeb\n        id: deploy\n        uses: massalabs/deweb-gh-action@v0.0.7\n        with:\n          config_file: deweb_cli_config_buildnet.json\n          source_folder: dist\n        env:\n          MASSA_DEWEB_SECRET_KEY: ${{ secrets.MASSA_DEWEB_SECRET_KEY }}\n\n      - name: Get deployed website address\n        run: |\n          echo "Deployed website address: ${{ steps.deploy.outputs.deployed-website }}"\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note:")," This action only supports Linux runners."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"inputs"},"Inputs"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Required"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"config_file"),(0,r.kt)("td",{parentName:"tr",align:null},"Path to the DeWeb CLI configuration file"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"deweb_cli_config.json")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"source_folder"),(0,r.kt)("td",{parentName:"tr",align:null},"Directory containing website files"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"dist")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"rpc_url"),(0,r.kt)("td",{parentName:"tr",align:null},"Massa JSON RPC URL"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://buildnet.massa.net/api/v2"},"https://buildnet.massa.net/api/v2"))))),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"environment-variables"},"Environment Variables"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MASSA_DEWEB_SECRET_KEY"),(0,r.kt)("td",{parentName:"tr",align:null},"Private key for deploying to Massa's DeWeb.")))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Store ",(0,r.kt)("inlineCode",{parentName:"li"},"MASSA_DEWEB_SECRET_KEY")," securely as a GitHub secret and reference it in your workflow as ",(0,r.kt)("inlineCode",{parentName:"li"},"${{ secrets.MASSA_DEWEB_SECRET_KEY }}"),".")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"outputs"},"Outputs"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"deployed-website"),(0,r.kt)("td",{parentName:"tr",align:null},"Address of the deployed or updated website")))),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"configuration-file-example"},"Configuration File Example"),(0,r.kt)("p",null,"Create a ",(0,r.kt)("inlineCode",{parentName:"p"},"deweb_cli_config.json")," file to customize deployment:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "node_url": "https://buildnet.massa.net/api/v2",\n  "metadatas": {\n    "TITLE": "The website name - buildnet",\n    "DESCRIPTION": "Your website description"\n  }\n}\n')),(0,r.kt)("p",null,"After the initial deployment, update your config file with the deployed address to enable seamless updates:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "address": "DEPLOYED_WEBSITE_ADDRESS",\n  "node_url": "https://buildnet.massa.net/api/v2",\n  "metadatas": {\n    "TITLE": "The website name - buildnet",\n    "DESCRIPTION": "Your website description"\n  }\n}\n')),(0,r.kt)("p",null,"You can specify the path to your configuration file using the ",(0,r.kt)("inlineCode",{parentName:"p"},"config_file")," input."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"best-practices"},"Best Practices"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Store Secrets Securely:")," Always store sensitive keys like ",(0,r.kt)("inlineCode",{parentName:"li"},"MASSA_DEWEB_SECRET_KEY")," as encrypted GitHub secrets."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Automate Deployments:")," Use the CI workflow to deploy on every push or on specific branches as needed."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Update Configuration:")," After the first deployment, update your config file with the deployed address to allow for incremental updates.")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"additional-resources"},"Additional Resources"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/massalabs/deweb-gh-action"},"Massa DeWeb GitHub Action Repository"))))}c.isMDXComponent=!0}}]);