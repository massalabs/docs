"use strict";(self.webpackChunkdocu_dev=self.webpackChunkdocu_dev||[]).push([[5698],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>m});var a=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function r(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=a.createContext({}),p=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},d=function(e){var n=p(e.components);return a.createElement(s.Provider,{value:n},e.children)},g="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},h=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,d=r(e,["components","mdxType","originalType","parentName"]),g=p(t),h=i,m=g["".concat(s,".").concat(h)]||g[h]||u[h]||o;return t?a.createElement(m,l(l({ref:n},d),{},{components:t})):a.createElement(m,l({ref:n},d))}));function m(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=t.length,l=new Array(o);l[0]=h;var r={};for(var s in n)hasOwnProperty.call(n,s)&&(r[s]=n[s]);r.originalType=e,r[g]="string"==typeof e?e:i,l[1]=r;for(var p=2;p<o;p++)l[p]=t[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}h.displayName="MDXCreateElement"},5322:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>p});var a=t(7462),i=(t(7294),t(3905));const o={id:"hello-world-plugin",sidebar_label:'"Hello, World!" Plugin'},l="Build a Hello World Massa Station plugin",r={unversionedId:"massaStation/hello-world-plugin",id:"massaStation/hello-world-plugin",title:"Build a Hello World Massa Station plugin",description:"Welcome, Developer! You're about to embark on an exciting journey where you'll build your very first Massa Station",source:"@site/docs/massaStation/hello-world-plugin.mdx",sourceDirName:"massaStation",slug:"/massaStation/hello-world-plugin",permalink:"/docs/massaStation/hello-world-plugin",draft:!1,editUrl:"https://github.com/massalabs/docs/tree/main/docs/massaStation/hello-world-plugin.mdx",tags:[],version:"current",lastUpdatedBy:"Pierre Seznec",lastUpdatedAt:1728559655,formattedLastUpdatedAt:"Oct 10, 2024",frontMatter:{id:"hello-world-plugin",sidebar_label:'"Hello, World!" Plugin'},sidebar:"massaStationSidebar",previous:{title:"Plugin Creation Guidelines",permalink:"/docs/massaStation/guidelines"}},s={},p=[{value:"What are we going to do?",id:"what-are-we-going-to-do",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Install Golang",id:"install-golang",level:3},{value:"Install Go Swagger",id:"install-go-swagger",level:3},{value:"Install Massa Station",id:"install-massa-station",level:3},{value:"Setting up the project and creating the plugin&#39;s API.",id:"setting-up-the-project-and-creating-the-plugins-api",level:2},{value:"Initialize the project",id:"initialize-the-project",level:3},{value:"Define the server stub configuration",id:"define-the-server-stub-configuration",level:3},{value:"Generate the server stub",id:"generate-the-server-stub",level:3},{value:"Create the logic of the API",id:"create-the-logic-of-the-api",level:3},{value:"Test the API",id:"test-the-api",level:3},{value:"Register to Massa Station",id:"register-to-massa-station",level:2},{value:"Install the Massa Station Plugin package",id:"install-the-massa-station-plugin-package",level:3},{value:"Build the plugin binary and move it to the Massa Station plugin folder",id:"build-the-plugin-binary-and-move-it-to-the-massa-station-plugin-folder",level:3},{value:"Restart Massa Station and access the module page",id:"restart-massa-station-and-access-the-module-page",level:3},{value:"Define your endpoint",id:"define-your-endpoint",level:2},{value:"Add a new endpoint to the swagger file",id:"add-a-new-endpoint-to-the-swagger-file",level:3},{value:"Generate the server stub",id:"generate-the-server-stub-1",level:3},{value:"Add a handler",id:"add-a-handler",level:3},{value:"Register the handler",id:"register-the-handler",level:3},{value:"Re-build and re-deploy the plugin",id:"re-build-and-re-deploy-the-plugin",level:3},{value:"Test the endpoint",id:"test-the-endpoint",level:3},{value:"Add a frontend to the plugin",id:"add-a-frontend-to-the-plugin",level:2},{value:"Add a new endpoint to the swagger file",id:"add-a-new-endpoint-to-the-swagger-file-1",level:3},{value:"Generate the server stub",id:"generate-the-server-stub-2",level:3},{value:"Create an HTML page",id:"create-an-html-page",level:3},{value:"Add the html parser",id:"add-the-html-parser",level:3},{value:"Add a handler",id:"add-a-handler-1",level:3},{value:"Register the handler",id:"register-the-handler-1",level:3},{value:"Re-build and re-deploy the plugin",id:"re-build-and-re-deploy-the-plugin-1",level:3},{value:"Restart Massa Station and access the module page",id:"restart-massa-station-and-access-the-module-page-1",level:3}],d={toc:p},g="wrapper";function u(e){let{components:n,...o}=e;return(0,i.kt)(g,(0,a.Z)({},d,o,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"build-a-hello-world-massa-station-plugin"},"Build a Hello World Massa Station plugin"),(0,i.kt)("p",null,"Welcome, Developer! You're about to embark on an exciting journey where you'll build your very first Massa Station\nplugin. If you're thrilled about the world of blockchain, smart contracts, and dApps, you've come to the right place!"),(0,i.kt)("p",null,"As the most decentralized blockchain, Massa is a community-driven project. Thus, we tried to make as few assumptions as\npossible about the form and features that a module should have. As a result, ",(0,i.kt)("em",{parentName:"p"},"Massa Station"),' modules can be developed in\nany language, be more web2 or web3-oriented, and can be as simple or complex as you want them to be. In this tutorial,\nwe are going to build the simplest of the programs; a "Hello, World!" ',(0,i.kt)("em",{parentName:"p"},"Massa Station")," plugin."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"If you don't know what are Massa Station and Massa Station Plugins, you can read this quick introduction ",(0,i.kt)("a",{parentName:"p",href:"/docs/massaStation/home"},"here"),".")),(0,i.kt)("h2",{id:"what-are-we-going-to-do"},"What are we going to do?"),(0,i.kt)("p",null,'In this tutorial, we are going to develop a simple "Hello, World!" Massa Station plugin. This plugin will be composed of two parts: a back end and a front end. The back end will be a simple API that will allow Massa Station to interact with the plugin. The front end will be a simple web page that will be displayed when the plugin is called without any endpoint specified.'),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Prerequisites"),": We will install the necessary tools to develop the plugin."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Part 1"),": We will create an API server using go-swagger."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Part 2"),": We will register our API server to Massa Station."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Part 3"),": We will define our endpoint."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Part 4"),": We will add a frontend to the plugin.")),(0,i.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,i.kt)("h3",{id:"install-golang"},"Install Golang"),(0,i.kt)("p",null,"Make sure that you have ",(0,i.kt)("a",{parentName:"p",href:"https://go.dev/doc/install"},"Golang")," installed on your machine. You can check if it is installed by running ",(0,i.kt)("inlineCode",{parentName:"p"},"go version")," in your terminal. If you don't have Golang installed, you can follow the ",(0,i.kt)("a",{parentName:"p",href:"https://go.dev/doc/install"},"official installation guide"),". Make sure you add ",(0,i.kt)("inlineCode",{parentName:"p"},"go")," to the PATH environment variable. "),(0,i.kt)("h3",{id:"install-go-swagger"},"Install Go Swagger"),(0,i.kt)("p",null,"Make sure you have ",(0,i.kt)("a",{parentName:"p",href:"https://pkg.go.dev/github.com/go-swagger/go-swagger"},"Go Swagger")," installed on your machine. If you don't have Go Swagger installed, you can follow the ",(0,i.kt)("a",{parentName:"p",href:"https://pkg.go.dev/github.com/go-swagger/go-swagger"},"official installation guide"),". Also, make sure that the folder containing the Go Swagger binary is added to the PATH environment variable. It's usually located in the default go workspace folder: ",(0,i.kt)("inlineCode",{parentName:"p"},"$GOPATH/bin"),". Once installed, you can check if it is installed by running ",(0,i.kt)("inlineCode",{parentName:"p"},"swagger version")," in your terminal."),(0,i.kt)("h3",{id:"install-massa-station"},"Install Massa Station"),(0,i.kt)("p",null,"Make sure that you have ",(0,i.kt)("a",{parentName:"p",href:"https://station.massa.net"},"Massa Station")," installed on your machine. You can install it by downloading the installer on the official ",(0,i.kt)("a",{parentName:"p",href:"https://station.massa.net"},"Massa Station website"),". Once downloaded, run the installer and let it guide you through the installation process. "),(0,i.kt)("p",null,"If you can produce a similar output in your terminal, then you should be good to go:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'\u276f go version\ngo version go1.21.0 linux/amd64\n\u276f swagger version\nversion: v0.30.5\ncommit: (unknown, mod sum: "h1:SQ2+xSonWjjoEMOV5tcOnZJVlfyUfCBhGQGArS1b9+U=")\n\u276f massastation\n2023-08-22T15:28:25.058+0200  INFO  logger/global.go:51 Connected to node server https://buildnet.massa.net/api/v2 (version DEVN.24.1)\n2023-08-22T15:28:25.060+0200  INFO  logger/global.go:62 Serving massastation at http://[::]:80\n2023-08-22T15:28:25.061+0200  INFO  logger/global.go:62 Serving massastation at https://[::]:443\n\n')),(0,i.kt)("h2",{id:"setting-up-the-project-and-creating-the-plugins-api"},"Setting up the project and creating the plugin's API."),(0,i.kt)("h3",{id:"initialize-the-project"},"Initialize the project"),(0,i.kt)("p",null,"Navigate to your favorite folder and create a new folder for your project. In this tutorial, we will name it ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin"),". Navigate to the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin")," folder and initialize it as a go module by running the following command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"go mod init my-plugin\n")),(0,i.kt)("p",null,"This will create a ",(0,i.kt)("inlineCode",{parentName:"p"},"go.mod")," file in the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin")," folder."),(0,i.kt)("h3",{id:"define-the-server-stub-configuration"},"Define the server stub configuration"),(0,i.kt)("p",null,"Now, let's create the server stub. To do so, we will use the ",(0,i.kt)("a",{parentName:"p",href:"https://pkg.go.dev/github.com/go-swagger/go-swagger"},"go-swagger")," tool. Go Swagger allows you to generate a server stub from a swagger file. The server stub will contain the API's endpoints and the necessary code to run the server."),(0,i.kt)("p",null,"So go ahead and create an ",(0,i.kt)("inlineCode",{parentName:"p"},"api")," folder in the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin")," folder.\nThen, create a ",(0,i.kt)("inlineCode",{parentName:"p"},"swagger.yml")," file in the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin/api")," folder. This file will contain the server specification. Add the following configuration to the ",(0,i.kt)("inlineCode",{parentName:"p"},"swagger.yml")," file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},'consumes:\n  - application/json\ninfo:\n  description: Hello world plugin API.\n  title: hello-world-plugin\n  version: 0.0.0\nproduces:\n  - application/json\nschemes:\n  - http\nswagger: "2.0"\npaths:\n  /:\n    get:\n      operationId: defaultPage\n      responses:\n        "301":\n          description: Move to the default endpoint\n')),(0,i.kt)("p",null,"Now we are going to need a target directory to store the generated server stub.\nSo go ahead and in the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin/api")," folder, create a new folder named ",(0,i.kt)("inlineCode",{parentName:"p"},"server"),"."),(0,i.kt)("p",null,"Navigate back to the root directory ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin")," and create a ",(0,i.kt)("inlineCode",{parentName:"p"},"generate.go")," file. This file will contain the command that generates the server stub from the swagger file when you run ",(0,i.kt)("inlineCode",{parentName:"p"},"go generate ./..."),"."),(0,i.kt)("p",null,"Add the following code to ",(0,i.kt)("inlineCode",{parentName:"p"},"generate.go"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},"package main\n\n//go:generate swagger generate server --quiet --target api/server --name my-plugin --spec api/swagger.yml --exclude-main\n")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Here we are using the ",(0,i.kt)("inlineCode",{parentName:"p"},"swagger generate server")," command to generate the server stub. The ",(0,i.kt)("inlineCode",{parentName:"p"},"--target")," flag is used to specify the target directory. The ",(0,i.kt)("inlineCode",{parentName:"p"},"--name")," flag is used to specify the name of the server. The ",(0,i.kt)("inlineCode",{parentName:"p"},"--spec")," flag is used to specify the swagger file. The ",(0,i.kt)("inlineCode",{parentName:"p"},"--exclude-main")," flag is used to exclude the ",(0,i.kt)("inlineCode",{parentName:"p"},"main")," function from the generated code. We will add our own ",(0,i.kt)("inlineCode",{parentName:"p"},"main")," function later on. ")),(0,i.kt)("h3",{id:"generate-the-server-stub"},"Generate the server stub"),(0,i.kt)("p",null,"Now that we have defined the server configuration, we can generate the server stub. To do so, run the following command in the root directory ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"go generate ./...\n")),(0,i.kt)("p",null,"This will generate the server stub in the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin/api/server")," folder. At this point, you should have the following folder structure:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"my-plugin\n\u251c\u2500\u2500 generate.go\n\u251c\u2500\u2500 go.mod\n\u251c\u2500\u2500 api\n\u2502   \u251c\u2500\u2500 swagger.yml\n\u2502   \u251c\u2500\u2500 server\n\u2502   \u2502   \u251c\u2500\u2500 restapi\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 server.go\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 configure_my-plugin.go\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 doc.go\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 embedded_spec.go\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 operations\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 default_page.go\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 default_page_parameters.go\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 default_page_responses.go\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 default_page_urlbuilder.go\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 my_plugin_api.go\n\n")),(0,i.kt)("p",null,"Once you are done generating the server stub, we are going to need to edit one of the generated file. Indeed, the default CORS setting will block requests between Massa Station plugins. But as requests between Massa Station plugins are local, there is no risk with allowing CORS.\nSo go ahead and open the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin/api/server/restapi/configure_my-plugin.go")," file.\nDelete the current ",(0,i.kt)("inlineCode",{parentName:"p"},"setupGlobalMiddleware")," function and replace it with the following code:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},"func setupGlobalMiddleware(handler http.Handler) http.Handler {\n    handleCORS := cors.New(cors.Options{}).Handler\n\n    return handleCORS(handler)\n}\n")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"At the beginning of the file, you should see the following comment:"),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-go"},"// This file is safe to edit. Once it exists it will not be overwritten\n")),(0,i.kt)("p",{parentName:"admonition"},"This comment indicates that the file will not be overwritten when you re-generate the server stub. So you shouldn't have to edit it again when regenerating the server stub.")),(0,i.kt)("p",null,"We will also need to install the ",(0,i.kt)("inlineCode",{parentName:"p"},"cors")," package with the following command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"go get github.com/rs/cors\n")),(0,i.kt)("p",null,"Then we will need to import it in the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin/api/server/restapi/configure_my-plugin.go")," file. So go ahead and open the ",(0,i.kt)("inlineCode",{parentName:"p"},"configure_my-plugin.go")," file and add the following line to the imports section:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'  "github.com/rs/cors"\n')),(0,i.kt)("h3",{id:"create-the-logic-of-the-api"},"Create the logic of the API"),(0,i.kt)("p",null,"Create ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin.go")," in the root of your project and add the following code that implements the API's logic:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n  "fmt"\n  "os"\n  "os/signal"\n  "syscall"\n  "time"\n\n  "my-plugin/api/server/restapi"\n  "my-plugin/api/server/restapi/operations"\n\n  "github.com/go-openapi/loads"\n)\nfunc killTime(quit chan bool) {\n    // creates a ticker that will send a message every 5 seconds\n    ticker := time.NewTicker(5 * time.Second) //nolint:gomnd\n\n    fmt.Fprintf(os.Stdout, "Plugin is initializing.\\n")\n\n    for {\n        select {\n        case <-ticker.C:\n            fmt.Fprintf(os.Stdout, "Tic!\\n") // logs a message every 5 seconds\n        case <-quit:\n            fmt.Fprintf(os.Stdout, "Plugin is shutting down.\\nBye!\\n") // logs a message when the plugin is shutting down\n\n            return\n        }\n    }\n}\n\nfunc initializeAPI() *restapi.Server {\n    swaggerSpec, err := loads.Analyzed(restapi.SwaggerJSON, "") // loads the swagger file\n    if err != nil {\n        panic(err)\n    }\n\n    pluginAPI := operations.NewMyPluginAPI(swaggerSpec) // initializes the API\n    server := restapi.NewServer(pluginAPI) // creates the server\n\n    server.ConfigureAPI() // configures the API\n\n    return server\n}\n\nfunc main() {\n    quit := make(chan bool) // creates a channel to receive the interrupt signal\n    intSig := make(chan os.Signal, 1) // notifies the channel when the interrupt signal is received\n    signal.Notify(intSig, syscall.SIGINT, syscall.SIGTERM)\n\n    go killTime(quit) // starts the killTime function in a goroutine\n\n    server := initializeAPI() // initializes the API\n\n    if err := server.Serve(); err != nil {\n        panic(err)\n    }\n\n    <-intSig\n    quit <- true\n}\n')),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"The ",(0,i.kt)("inlineCode",{parentName:"p"},"killTime")," function logs a message every 5 seconds. It is used to show that the plugin is running."),(0,i.kt)("p",{parentName:"admonition"},"The ",(0,i.kt)("inlineCode",{parentName:"p"},"initializeAPI")," function initializes the API and returns the server.")),(0,i.kt)("p",null,"Once you have created the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin.go")," file, and copied the code, we are going to install the imported packages. To do so, run the following command in the root directory ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"go mod tidy\n")),(0,i.kt)("h3",{id:"test-the-api"},"Test the API"),(0,i.kt)("p",null,"Once you are done editing the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin.go")," file, you should be able to test the API by running:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"go run ./my-plugin.go\n")),(0,i.kt)("p",null,"After five seconds, you should get a similar output:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"\u276f go run ./my-plugin.go\nPlugin is initializing.\n2023/08/22 15:04:39 Serving my plugin at http://[::]:39725\nTic!\n")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"The last numbers correspond to the port the API is running on. It will change each time you restart the plugin.")),(0,i.kt)("p",null,"At this stage, we are running the API in standalone mode. In the next section, we will register the API with Massa Station, to make it run through Massa Station."),(0,i.kt)("h2",{id:"register-to-massa-station"},"Register to Massa Station"),(0,i.kt)("h3",{id:"install-the-massa-station-plugin-package"},"Install the Massa Station Plugin package"),(0,i.kt)("p",null,"To be able to register the plugin with Massa Station, we need to install the Massa Station Plugin package. Indeed, this package contains the ",(0,i.kt)("inlineCode",{parentName:"p"},"RegisterPlugin")," function that allows us to register the plugin to Massa Station."),(0,i.kt)("p",null,"Install the following package:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"go get github.com/massalabs/station-massa-hello-world\n")),(0,i.kt)("p",null,"This package will be imported to ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin.go")," file. So go ahead and add the following line to the imports section of ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin.go"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'  "github.com/massalabs/station-massa-hello-world/pkg/plugin"\n')),(0,i.kt)("p",null,"The import section of your ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin.go")," file should look like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'import (\n  "fmt"\n  "net/http"\n  "os"\n  "os/signal"\n  "syscall"\n  "time"\n\n  "my-plugin/api/server/restapi"\n  "my-plugin/api/server/restapi/operations"\n\n  "github.com/go-openapi/loads"\n  "github.com/rs/cors"\n\n  "github.com/massalabs/station-massa-hello-world/pkg/plugin"\n)\n')),(0,i.kt)("p",null,"Once this is done, we will add the registration logic to our main function. We want to add the following lines to the main function:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},"  listener, err := server.HTTPListener()\n  if err != nil {\n    panic(err)\n  }\n\n  plugin.RegisterPlugin(listener) // registers the plugin\n")),(0,i.kt)("p",null,"They should be added right after the ",(0,i.kt)("inlineCode",{parentName:"p"},"server := initializeAPI()")," line. In the end, your main function should look like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},"func main() {\n    quit := make(chan bool) // creates a channel to receive the interrupt signal\n    intSig := make(chan os.Signal, 1) // notifies the channel when the interrupt signal is received\n    signal.Notify(intSig, syscall.SIGINT, syscall.SIGTERM)\n\n    go killTime(quit) // starts the killTime function in a goroutine\n\n    server := initializeAPI() // initializes the API\n\n    listener, err := server.HTTPListener()\n    if err != nil {\n        panic(err)\n    }\n\n    plugin.RegisterPlugin(listener) // registers the plugin\n\n    if err := server.Serve(); err != nil {\n        panic(err)\n    }\n\n    <-intSig\n    quit <- true\n}\n")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"p"},"plugin.RegisterPlugin")," is a function available in the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/massalabs/station-massa-hello-world/blob/main/pkg/plugin/register.go"},"hello-world plugin package"),"."),(0,i.kt)("p",{parentName:"admonition"},"It facilitates the registration of a plugin with Massa Station, assigning a unique correlation ID to the plugin for identification purposes within the Massa Station system.")),(0,i.kt)("h3",{id:"build-the-plugin-binary-and-move-it-to-the-massa-station-plugin-folder"},"Build the plugin binary and move it to the Massa Station plugin folder"),(0,i.kt)("p",null,"Now that we have implemented the logic to register the plugin with Massa Station, we are going to build the plugin binary, and move it to the Massa Station plugin folder. By doing so, we will make the binary available to Massa Station."),(0,i.kt)("p",null,"So, go ahead and build a binary of the plugin with the following command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir build && go build -o build/my-plugin\n")),(0,i.kt)("p",null,"In addition to the binary, Massa Station needs a manifest file to be able to identify the plugin. So go ahead and create a ",(0,i.kt)("inlineCode",{parentName:"p"},"manifest.json")," file in the root directory ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin"),". Add the following configuration to the ",(0,i.kt)("inlineCode",{parentName:"p"},"manifest.json")," file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "author": "Your name",\n  "name": "Hello World",\n  "description": "Hello world plugin",\n  "logo": "hello_world.svg",\n  "home": "",\n  "version": "0.0.1"\n}\n')),(0,i.kt)("p",null,"Feel free to edit the ",(0,i.kt)("inlineCode",{parentName:"p"},"manifest.json")," file to match your name and the name of the plugin."),(0,i.kt)("p",null,"As you can see, we referenced a ",(0,i.kt)("inlineCode",{parentName:"p"},".svg")," file. This file will be the logo of your plugin, that will appear on the Massa Station modules page. So go ahead and create a ",(0,i.kt)("inlineCode",{parentName:"p"},"web")," folder in the root directory ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin"),". Then, create a ",(0,i.kt)("inlineCode",{parentName:"p"},"content")," folder in the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin/web")," folder. Finally, add the ",(0,i.kt)("inlineCode",{parentName:"p"},"hello_world.svg")," file that you can download ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/massalabs/station-massa-hello-world/blob/main/web/content/hello_world.svg"},"here")," to the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin/web/content")," folder."),(0,i.kt)("p",null,"Finally, move the plugin binary, the manifest, and the ",(0,i.kt)("inlineCode",{parentName:"p"},".svg")," file to the Massa Station plugin folder. The location of the Massa Station plugin folder depends on your operating system:"),(0,i.kt)("p",null,"On linux or macOS you can use the following command to move the files:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir -p /usr/local/share/massastation/plugins/my-plugin\ncp build/my-plugin /usr/local/share/massastation/plugins/my-plugin\ncp web/content/hello_world.svg /usr/local/share/massastation/plugins/my-plugin\ncp manifest.json /usr/local/share/massastation/plugins/my-plugin\n")),(0,i.kt)("p",null,"On Windows, you can use the following command in the PowerShell:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-powershell"},'# Create the directory\n$destinationDir = "C:\\Program Files (x86)\\MassaStation\\plugins\\my-plugin"\nNew-Item -ItemType Directory -Force -Path $destinationDir\n\n# Copy the files\n$sourceDir = "build\\my-plugin"\nCopy-Item $sourceDir\\my-plugin $destinationDir -Force\n\n$sourceDir = "web\\content"\nCopy-Item $sourceDir\\hello_world.svg $destinationDir -Force\n\nCopy-Item manifest.json $destinationDir -Force\n')),(0,i.kt)("h3",{id:"restart-massa-station-and-access-the-module-page"},"Restart Massa Station and access the module page"),(0,i.kt)("p",null,"Restart Massa Station and access ",(0,i.kt)("a",{parentName:"p",href:"https://station.massa/web/store"},"the module page"),". You should see the plugin in the list of available plugins."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Module page",src:t(4903).Z,width:"1057",height:"775"})),(0,i.kt)("p",null,"For now, we cannot access it because we haven't implemented any endpoint. So let's do that in the next section."),(0,i.kt)("h2",{id:"define-your-endpoint"},"Define your endpoint"),(0,i.kt)("p",null,"We are going to add a new endpoint to our plugin that will display a message when called. To do so, we will add a new endpoint to the swagger file, generate the code, add a handler, and register the handler."),(0,i.kt)("h3",{id:"add-a-new-endpoint-to-the-swagger-file"},"Add a new endpoint to the swagger file"),(0,i.kt)("p",null,"So go ahead and open the ",(0,i.kt)("inlineCode",{parentName:"p"},"swagger.yml")," file in the ",(0,i.kt)("inlineCode",{parentName:"p"},"api")," folder, and append the following code at the end of the file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},'  /api/hello:\n    put:\n      operationId: hello\n      parameters:\n        - in: query\n          name: name\n          type: string\n          description: the name of the person to be greeted.\n      produces:\n        - application/json\n      responses:\n        "200":\n          description: Greeting content.\n          schema:\n            type: object\n            required:\n              - message\n            properties:\n              message:\n                description: Greeting message.\n                type: string\n                x-nullable: false\n        "500":\n          description: Internal Server Error - The server has encountered a situation it does not know how to handle.\n')),(0,i.kt)("h3",{id:"generate-the-server-stub-1"},"Generate the server stub"),(0,i.kt)("p",null,"Once you are done editing the ",(0,i.kt)("inlineCode",{parentName:"p"},"swagger.yml")," file, we are going to re-generate the server stub based on the new configuration. To do so, run the following command in the root directory ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"go generate ./...\n")),(0,i.kt)("h3",{id:"add-a-handler"},"Add a handler"),(0,i.kt)("p",null,"Now we are going to add a handler for our new endpoint. To do so, we will create an ",(0,i.kt)("inlineCode",{parentName:"p"},"endpoints.go")," file that will contain the logic of the handler.\nSo go ahead and create the file ",(0,i.kt)("inlineCode",{parentName:"p"},"endpoints.go")," in the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin/api")," folder.\nAdd the following code to the ",(0,i.kt)("inlineCode",{parentName:"p"},"endpoints.go")," file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'package api\n\nimport (\n  "fmt"\n\n  "my-plugin/api/server/restapi/operations"\n\n  "github.com/go-openapi/runtime/middleware"\n)\n\nfunc Hello(params operations.HelloParams) middleware.Responder {\n  target := "World"\n  if params.Name != nil {\n    target = *params.Name\n  }\n\n  return operations.NewHelloOK().WithPayload(\n    &operations.HelloOKBody{Message: fmt.Sprintf("Hello, %s!", target)},\n  )\n}\n')),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Here, we are simply returning a 200 OK response with a greeting message that takes the name of the person to be greeted from the query parameters.")),(0,i.kt)("h3",{id:"register-the-handler"},"Register the handler"),(0,i.kt)("p",null,"Now we are going to set the handler for our newly created ",(0,i.kt)("inlineCode",{parentName:"p"},"hello")," endpoint. To do so, we will add the following line to the ",(0,i.kt)("inlineCode",{parentName:"p"},"initializeAPI")," function in the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin.go")," file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},"pluginAPI.HelloHandler = operations.HelloHandlerFunc(api.Hello)\n")),(0,i.kt)("p",null,"So go ahead and in the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin.go")," file, replace the current ",(0,i.kt)("inlineCode",{parentName:"p"},"initializeAPI")," function with the following code snippet: "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'func initializeAPI() *restapi.Server {\n  swaggerSpec, err := loads.Analyzed(restapi.SwaggerJSON, "") // loads the swagger file\n  if err != nil {\n      panic(err)\n  }\n\n  pluginAPI := operations.NewMyPluginAPI(swaggerSpec) // initializes the API\n  server := restapi.NewServer(pluginAPI) // creates the server\n  server.ConfigureAPI() // configures the API\n  pluginAPI.HelloHandler = operations.HelloHandlerFunc(api.Hello) // sets the handler for the Hello endpoint\n\n  return server\n}\n')),(0,i.kt)("h3",{id:"re-build-and-re-deploy-the-plugin"},"Re-build and re-deploy the plugin"),(0,i.kt)("p",null,"Now that we have created our endpoint and the corresponding handler, we need to re-build and re-deploy the plugin. We are going to follow the same steps 2 and 3 of the previous section.\nStart by building the binary with the following command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"go build -o build/my-plugin\n")),(0,i.kt)("p",null,"Then, move the binary, to the Massa Station plugin folder. The location of the Massa Station plugin folder depends on your operating system."),(0,i.kt)("p",null,"On linux or macOS:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"cp build/my-plugin /usr/local/share/massastation/plugins/my-plugin\n")),(0,i.kt)("p",null,"On Windows, you can use the following commands in the PowerShell:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-powershell"},'# Copy the files\n$sourceDir = "build\\my-plugin"\nCopy-Item $sourceDir\\my-plugin $destinationDir -Force\n')),(0,i.kt)("h3",{id:"test-the-endpoint"},"Test the endpoint"),(0,i.kt)("p",null,"We are going to test the endpoint by calling it with ",(0,i.kt)("inlineCode",{parentName:"p"},"curl"),". The url of the endpoint will vary depending on the naming you used in the previous steps. So the easiest way will be to go to the Massa Station module page, locate your plugin, launch it and copy the url.\nIn my case, it is: ",(0,i.kt)("inlineCode",{parentName:"p"},"https://station.massa/plugin/your-name/hello-world/"),"."),(0,i.kt)("p",null,"Run the following command to test the ",(0,i.kt)("inlineCode",{parentName:"p"},"hello")," endpoint we implemented, and don't forget to replace the url with yours:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X PUT "<INSERT YOUR PLUGIN URL>api/hello?name=John" -H  "accept: application/json""\n')),(0,i.kt)("p",null,"You should see the following output:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'{ "message": "Hello, John!" }\n')),(0,i.kt)("p",null,"Great! We have successfully added a new endpoint to our plugin."),(0,i.kt)("p",null,"The next step will be to add a frontend to our plugin."),(0,i.kt)("h2",{id:"add-a-frontend-to-the-plugin"},"Add a frontend to the plugin"),(0,i.kt)("p",null,"We are going to add a frontend to our plugin. The process is quite similar to the one we followed in the previous section.\nWe will add a new endpoint to the swagger file, generate the code, add a handler, and register the handler. Then, we will create a basic HTML page and add the handler to the ",(0,i.kt)("inlineCode",{parentName:"p"},"initializeAPI")," function."),(0,i.kt)("h3",{id:"add-a-new-endpoint-to-the-swagger-file-1"},"Add a new endpoint to the swagger file"),(0,i.kt)("p",null,"Once again, we will add a new endpoint to the API. This time, we will add an endpoint that will allow us to serve a static website. To do so, we will add a new endpoint to the swagger file. So go ahead and open the ",(0,i.kt)("inlineCode",{parentName:"p"},"swagger.yml")," file in the ",(0,i.kt)("inlineCode",{parentName:"p"},"api")," folder, and append the following code at the end of the file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},'  /web/{resource}:\n    get:\n      operationId: web\n      produces:\n        - application/json\n        - text/javascript\n        - text/html\n        - text/css\n        - text/webp\n        - image/png\n      parameters:\n        - in: path\n          name: resource\n          type: string\n          required: true\n          description: Website resource.\n      responses:\n        "200":\n          description: Page found\n        "404":\n          description: Resource not found.\n')),(0,i.kt)("h3",{id:"generate-the-server-stub-2"},"Generate the server stub"),(0,i.kt)("p",null,"Once you are done editing the ",(0,i.kt)("inlineCode",{parentName:"p"},"swagger.yml")," file, we are going to re-generate the server stub based on the new configuration. To do so, run the following command in the root directory ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"go generate ./...\n")),(0,i.kt)("h3",{id:"create-an-html-page"},"Create an HTML page"),(0,i.kt)("p",null,"Now we are going to create a basic HTML page that will be served by the plugin. So go ahead and create an ",(0,i.kt)("inlineCode",{parentName:"p"},"index.html")," file in the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin/web/content")," folder.\nAdd the following code to the ",(0,i.kt)("inlineCode",{parentName:"p"},"index.html")," file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},"  <html>\n    <body>\n      <h1>Hello, world!</h1>\n    </body>\n  </html>\n")),(0,i.kt)("h3",{id:"add-the-html-parser"},"Add the html parser"),(0,i.kt)("p",null,"We are going to create a handler that will read the content of the html file and return it. So go ahead and create a ",(0,i.kt)("inlineCode",{parentName:"p"},"resources.go")," file in the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin/web")," folder.\nAdd the following code to the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin/web/resources.go")," file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'package web\n\nimport (\n  "embed"\n  "fmt"\n)\n\nconst basePath = "content/"\n\n//go:embed content\nvar content embed.FS\n\nfunc Content(resource string) ([]byte, error) {\n  content, err := content.ReadFile(basePath + resource)\n  if err != nil {\n    return nil, fmt.Errorf("while reading %s in %s: %w", resource, basePath, err)\n  }\n\n  return content, nil\n}\n')),(0,i.kt)("h3",{id:"add-a-handler-1"},"Add a handler"),(0,i.kt)("p",null,"We are also going to create an ",(0,i.kt)("inlineCode",{parentName:"p"},"endpoints.go")," file that will contain the logic of the handler. It will point Massa Station to the right resource.\nSo go ahead and create the file ",(0,i.kt)("inlineCode",{parentName:"p"},"endpoints.go")," in the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin/web")," folder and add the following code:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'package web\n\nimport (\n  "mime"\n  "net/http"\n  "path/filepath"\n\n  "github.com/go-openapi/runtime/middleware"\n  "my-plugin/api/server/restapi/operations"\n  "github.com/massalabs/station-massa-wallet/pkg/openapi"\n)\n\n// webHandle  handles a Web request.\nfunc Handle(params operations.WebParams) middleware.Responder {\n  resourceName := params.Resource\n\n  resourceContent, err := Content(resourceName) // reads the content of the html file\n  if err != nil {\n    return operations.NewWebNotFound()\n  }\n\n  fileExtension := filepath.Ext(resourceName)\n\n  mimeType := mime.TypeByExtension(fileExtension) // gets the mime type of the file\n\n  header := map[string]string{"Content-Type": mimeType}\n\n  return openapi.NewCustomResponder(resourceContent, header, http.StatusOK) // returns the content of the html file\n}\n\n// defaultRedirectHandler redirects request to "/" URL to "web/index.html".\nfunc DefaultRedirectHandler(_ operations.DefaultPageParams) middleware.Responder {\n  return openapi.NewCustomResponder(nil, map[string]string{"Location": "web/index.html"}, http.StatusPermanentRedirect) // redirects to the html file\n}\n')),(0,i.kt)("p",null,"As you can see, we imported the ",(0,i.kt)("inlineCode",{parentName:"p"},"github.com/massalabs/station-massa-wallet/pkg/openapi")," package. This package contains the ",(0,i.kt)("inlineCode",{parentName:"p"},"NewCustomResponder")," function that allows us to return a custom response.\nGo ahead and install the package with the following command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"go get github.com/massalabs/station-massa-wallet/pkg/openapi\n")),(0,i.kt)("h3",{id:"register-the-handler-1"},"Register the handler"),(0,i.kt)("p",null,"Then, we need to add the handler to the ",(0,i.kt)("inlineCode",{parentName:"p"},"initializeAPI")," function:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},"    ...\n  pluginAPI.WebHandler = operations.WebHandlerFunc(web.Handle)\n  pluginAPI.DefaultPageHandler = operations.DefaultPageHandlerFunc(web.DefaultRedirectHandler)\n    ...\n")),(0,i.kt)("p",null,"So open the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin.go")," file and replace the current content of the ",(0,i.kt)("inlineCode",{parentName:"p"},"initializeAPI")," function with the following code snippet: "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'func initializeAPI() *restapi.Server {\n  swaggerSpec, err := loads.Analyzed(restapi.SwaggerJSON, "")\n  if err != nil {\n    panic(err)\n  }\n\n  pluginAPI := operations.NewHelloWorldAPI(swaggerSpec)\n  server := restapi.NewServer(pluginAPI)\n\n  pluginAPI.WebHandler = operations.WebHandlerFunc(web.Handle)\n  pluginAPI.DefaultPageHandler = operations.DefaultPageHandlerFunc(web.DefaultRedirectHandler)\n  pluginAPI.HelloHandler = operations.HelloHandlerFunc(api.Hello)\n\n  server.ConfigureAPI()\n\n  return server\n}\n')),(0,i.kt)("p",null,"As you can see, we are using the ",(0,i.kt)("inlineCode",{parentName:"p"},"web")," package we created in the previous step. So make sure you import it in the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-plugin.go")," file. Your import section should look like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'import (\n  "fmt"\n  "net/http"\n  "os"\n  "os/signal"\n  "syscall"\n  "time"\n\n  "my-plugin/api"\n  "my-plugin/api/server/restapi"\n  "my-plugin/api/server/restapi/operations"\n  "my-plugin/web"\n\n  "github.com/go-openapi/loads"\n  "github.com/rs/cors"\n\n  "github.com/massalabs/station-massa-hello-world/pkg/plugin"\n)\n')),(0,i.kt)("h3",{id:"re-build-and-re-deploy-the-plugin-1"},"Re-build and re-deploy the plugin"),(0,i.kt)("p",null,"As we already did in the previous sections, we are going to re-build and re-deploy the plugin.\nStart by building the binary with the following command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"go build -o build/my-plugin\n")),(0,i.kt)("p",null,"Then, move the binary, to the Massa Station plugin folder. The location of the Massa Station plugin folder depends on your operating system."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"To copy the files, you should make sure that Massa Station is not running.")),(0,i.kt)("p",null,"On linux or macOS:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"cp build/my-plugin /usr/local/share/massastation/plugins/my-plugin\ncp web/content/index.html /usr/local/share/massastation/plugins/my-plugin\n")),(0,i.kt)("p",null,"On Windows, you can use the following commands in the PowerShell:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-powershell"},'# Copy the files\n$sourceDir = "build\\my-plugin"\nCopy-Item $sourceDir\\my-plugin $destinationDir -Force\n\n$sourceDir = "web\\content"\nCopy-Item $sourceDir\\index.html $destinationDir -Force\n')),(0,i.kt)("h3",{id:"restart-massa-station-and-access-the-module-page-1"},"Restart Massa Station and access the module page"),(0,i.kt)("p",null,"Restart Massa Station and access ",(0,i.kt)("a",{parentName:"p",href:"https://station.massa/web/store"},"the module page"),'. You should see the plugin in the list of available plugins.\nClick on the plugin to launch it. You should see the "Hello, World!" page.'),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Hello world page",src:t(4151).Z,width:"1850",height:"1053"})),(0,i.kt)("p",null,"Congratulations! You have successfully created your first Massa Station plugin!"))}u.isMDXComponent=!0},4151:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/hello-world-page-f365b23af173fa79119f3f2ae55035f9.png"},4903:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/module-page-c5f4238a495f8f21931df19d282df130.png"}}]);